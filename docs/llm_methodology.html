<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Analysis Methodology - RAND AI Methods Intelligence</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="js/auth.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="nav-title">RAND AI Methods Intelligence</h1>
            <div class="nav-links">
                <a href="index.html">Dashboard</a>
                <a href="llm_methodology.html" class="active">LLM Methodology</a>
                <a href="reports/full_report.html">Full Report</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <header class="header">
            <h1>LLM Analysis Methodology</h1>
            <p class="subtitle">Detailed explanation of how 9,750 method instances were analyzed using Gemini Pro</p>
        </header>

        <!-- Overview -->
        <section class="section">
            <h2>üîç Analysis Overview</h2>
            <div class="method-card">
                <h3>Automated LLM Classification Process</h3>
                <p>Each document chunk containing research method keywords was analyzed by Google's Gemini Pro model to determine:</p>
                <ul>
                    <li><strong>Usage Type:</strong> How the method appears in the text (active use vs. literature reference)</li>
                    <li><strong>Sophistication Level:</strong> Complexity of methodological implementation (0-3 scale)</li>
                    <li><strong>AI Integration:</strong> Whether LLM tools were used to support or enhance the method</li>
                    <li><strong>Confidence Score:</strong> Model's certainty in the classification (0.0-1.0)</li>
                </ul>
            </div>
        </section>

        <!-- Keywords That Triggered Analysis -->
        <section class="section">
            <h2>üîë Analysis Trigger Keywords</h2>
            <div class="methodology-grid-2x2">
                <div class="method-card">
                    <h3>Top AI & Method Keywords (Total: 141 unique terms)</h3>
                    <div class="keyword-list">
                        <div class="keyword-item"><span class="keyword">Case Study</span> <span class="count">919 instances</span></div>
                        <div class="keyword-item"><span class="keyword">Simulation</span> <span class="count">738 instances</span></div>
                        <div class="keyword-item"><span class="keyword">artificial intelligence</span> <span class="count">647 instances</span></div>
                        <div class="keyword-item"><span class="keyword">Literature Review</span> <span class="count">581 instances</span></div>
                        <div class="keyword-item"><span class="keyword">Systematic Review</span> <span class="count">496 instances</span></div>
                        <div class="keyword-item"><span class="keyword">Risk Assessment</span> <span class="count">371 instances</span></div>
                        <div class="keyword-item"><span class="keyword">Meta-Analysis</span> <span class="count">342 instances</span></div>
                        <div class="keyword-item"><span class="keyword">Program Evaluation</span> <span class="count">260 instances</span></div>
                        <div class="keyword-item"><span class="keyword">Focus Group</span> <span class="count">248 instances</span></div>
                        <div class="keyword-item"><span class="keyword">Network Analysis</span> <span class="count">235 instances</span></div>
                        <div class="keyword-item"><span class="keyword">Forecasting</span> <span class="count">230 instances</span></div>
                        <div class="keyword-item"><span class="keyword">CNN</span> <span class="count">198 instances</span></div>
                        <div class="keyword-item"><span class="keyword">deep learning</span> <span class="count">113 instances</span></div>
                        <div class="keyword-item"><span class="keyword">machine learning</span> <span class="count">87 instances</span></div>
                        <div class="keyword-item"><span class="keyword">neural network</span> <span class="count">45 instances</span></div>
                    </div>
                </div>
                
                <div class="method-card">
                    <h3>AI-Specific Terms Analyzed</h3>
                    <div class="ai-terms">
                        <ul>
                            <li>artificial intelligence (647)</li>
                            <li>deep learning (113)</li>
                            <li>machine learning (87)</li>
                            <li>neural network (45)</li>
                            <li>natural language processing (34)</li>
                            <li>computer vision (23)</li>
                            <li>large language model (18)</li>
                            <li>generative AI (12)</li>
                            <li>ChatGPT (8)</li>
                            <li>GPT (15)</li>
                        </ul>
                        <p><em>Numbers in parentheses show instance counts analyzed</em></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Prompts Used -->
        <section class="section">
            <h2>üí¨ LLM Analysis Prompt</h2>
            <div class="prompt-display">
                <h3>Exact Prompt Sent to Gemini Pro</h3>
                <div class="code-block">
                    <pre>Analyze this research text for method usage.

TERM: {found_term}
CONTEXT: {context}

Return JSON only:
{"usage_type": "active_usage|citation|background", "sophistication": 0-3, "ai_integration": "none|ai_assisted|ai_augmented", "confidence": 0.0-1.0}</pre>
                </div>
                
                <h4>Classification Definitions:</h4>
                <div class="methodology-grid-2x2">
                    <div class="definition-card">
                        <h5>Usage Type</h5>
                        <ul>
                            <li><strong>active_usage:</strong> Method is actually employed in the research</li>
                            <li><strong>citation:</strong> Reference to method in literature/citations</li>
                            <li><strong>background:</strong> General discussion or background mention</li>
                        </ul>
                    </div>
                    
                    <div class="definition-card">
                        <h5>Sophistication (0-3)</h5>
                        <ul>
                            <li><strong>0:</strong> No methodological detail</li>
                            <li><strong>1:</strong> Basic application or mention</li>
                            <li><strong>2:</strong> Moderate implementation detail</li>
                            <li><strong>3:</strong> Advanced/sophisticated application</li>
                        </ul>
                    </div>
                    
                    <div class="definition-card">
                        <h5>AI Integration</h5>
                        <ul>
                            <li><strong>none:</strong> Traditional method implementation</li>
                            <li><strong>ai_assisted:</strong> LLM tools support method</li>
                            <li><strong>ai_augmented:</strong> LLMs fundamentally enhance method</li>
                        </ul>
                    </div>
                    
                    <div class="definition-card">
                        <h5>Confidence Score</h5>
                        <ul>
                            <li><strong>0.9-1.0:</strong> Very confident classification</li>
                            <li><strong>0.7-0.8:</strong> Confident classification</li>
                            <li><strong>0.5-0.6:</strong> Moderate confidence</li>
                            <li><strong>0.0-0.4:</strong> Low confidence</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Technical Implementation -->
        <section class="section">
            <h2>‚öôÔ∏è Technical Implementation</h2>
            <div class="methodology-grid-2x2">
                <div class="method-card">
                    <h3>Model Configuration</h3>
                    <ul>
                        <li><strong>Model:</strong> Google Gemini 1.5 Flash</li>
                        <li><strong>Temperature:</strong> 0.1 (low for consistency)</li>
                        <li><strong>Max tokens:</strong> 256 (concise responses)</li>
                        <li><strong>Concurrent requests:</strong> 15 (rate limit compliance)</li>
                        <li><strong>Batch size:</strong> 100 chunks per batch</li>
                        <li><strong>Retry logic:</strong> 3 attempts per failed request</li>
                    </ul>
                </div>
                
                <div class="method-card">
                    <h3>Data Processing</h3>
                    <ul>
                        <li><strong>Context window:</strong> 1,000 characters maximum</li>
                        <li><strong>Checkpointing:</strong> Progress saved every 10 batches</li>
                        <li><strong>Resume capability:</strong> Analysis can restart from last checkpoint</li>
                        <li><strong>Success rate:</strong> 100% (9,750/9,750 analyzed successfully)</li>
                        <li><strong>Processing time:</strong> ~6 hours total</li>
                    </ul>
                </div>
                
                <div class="method-card">
                    <h3>Quality Assurance</h3>
                    <ul>
                        <li><strong>JSON validation:</strong> All responses parsed successfully</li>
                        <li><strong>Consistency checks:</strong> Spot-checked 100 random samples</li>
                        <li><strong>Error handling:</strong> Robust retry logic for API failures</li>
                        <li><strong>Logging:</strong> Complete audit trail of all requests</li>
                    </ul>
                </div>
                
                <div class="method-card">
                    <h3>Data Coverage</h3>
                    <ul>
                        <li><strong>Document chunks:</strong> From 564,062 total chunks</li>
                        <li><strong>Date range:</strong> RAND publications 2016-2025</li>
                        <li><strong>Documents:</strong> 9,129 publications analyzed</li>
                        <li><strong>Selection criteria:</strong> Contains method keywords or AI terms</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Raw Data Access -->
        <section class="section">
            <h2>üìä Access Raw Analysis Data</h2>
            <div class="data-access">
                <div class="method-card">
                    <h3>Download Complete Results</h3>
                    <p>The complete analysis dataset includes all 9,750 analyzed instances with:</p>
                    <ul>
                        <li>Original text contexts analyzed</li>
                        <li>LLM classifications and confidence scores</li>
                        <li>Document metadata and citations</li>
                        <li>RAND research area classifications</li>
                    </ul>
                    <div class="download-links">
                        <a href="#" class="btn btn-primary" onclick="downloadAnalysisData()">Download CSV (63MB)</a>
                        <a href="#" class="btn btn-secondary" onclick="viewSampleData()">View Sample Data</a>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <style>
        .keyword-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .keyword-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            margin: 4px 0;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 3px solid #4CAF50;
        }
        
        .keyword {
            font-weight: 500;
            color: #2c3e50;
        }
        
        .count {
            font-size: 0.9em;
            color: #666;
            background: #e9ecef;
            padding: 2px 8px;
            border-radius: 12px;
        }
        
        .prompt-display {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 6px;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .code-block pre {
            margin: 0;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .definition-card {
            background: white;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            padding: 16px;
            margin: 10px 0;
        }
        
        .definition-card h5 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .ai-terms ul {
            columns: 2;
            column-gap: 20px;
        }
        
        .data-access {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
        }
        
        .download-links {
            margin-top: 15px;
        }
        
        .btn {
            display: inline-block;
            padding: 10px 20px;
            margin: 5px 10px 5px 0;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 500;
            text-align: center;
        }
        
        .btn-primary {
            background: #4CAF50;
            color: white;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }
    </style>

    <script>
        function downloadAnalysisData() {
            alert('Feature coming soon: Direct download of gemini_analysis_complete.csv');
            // In production, this would trigger download of the CSV file
        }
        
        function viewSampleData() {
            alert('Feature coming soon: Interactive data viewer showing sample classifications');
            // In production, this would open a modal with sample data
        }
    </script>
</body>
</html>